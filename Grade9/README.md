# Программа на оценку 9

## Принцип работы программы

Принцип работы программы заключается в межпроцессной коммуникации клиентской программы и отельной программы посредством
именованных семафоров, а также именованных каналов UNIX SYSTEM V.

В отличие от программ на 4-6 баллов, в данной реализации используется один именованный семафор и только для
предотвращения так называемой гонки данных.
Именованные каналы используются для реализации модели запрос-ответ в целях обновления данных в приложении отеля.

С помощью макросов **SINGLE_ROOMS_COUNT** (по-умолчанию равен 10) и **DOUBLE_ROOMS_COUNT** (по-умолчанию равен 15) в
hotel.c и client.c осуществляется регулировка количества различных номеров в отеле - одноместных и двухместных
соответственно.

## Пример работы программы

```
>> ./hotel.out
>> ./client.out 1 0 1 & ./client.out 2 1 1 & ./client.out 3 1 2 & ./client.out 4 1 2 & ./client.out 5 0 1
[CLIENT-1] rent single room: idx = 1.
[CLIENT-1] waiting 1s.
[CLIENT-1] end of rent!
[CLIENT-2] rent single room: idx = 0.
[CLIENT-2] waiting 1s.
[CLIENT-2] end of rent!
[CLIENT-5] rent single room: idx = 3.
[CLIENT-5] waiting 1s.
[CLIENT-5] end of rent!
[CLIENT-3] rent single room: idx = 2.
[CLIENT-3] waiting 2s.
[CLIENT-3] end of rent!
[CLIENT-4] rent single room: idx = 4.
[CLIENT-4] waiting 2s.
[CLIENT-4] end of rent!
```

Видим, что все клиенты были отправлены в одноместные номера, т.к. они были свободными.
Также видим отсутствие конфликтов при размещении, т.е. нет таких ситуаций, что два клиента были отправлены в одноместные
номера (отсутствует проблема гонки данных).